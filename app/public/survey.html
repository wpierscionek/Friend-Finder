<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Friend-Finder</title>
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="css/survey.css">
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="panel-heading">
                    <h1 class="text-center">Survey Questions</h1>
                    <hr>
                    <h2><strong>About You</strong></h2>
                </div>
                <div class="panel-body">
                    <form role="form">
                        <div class="form-group">
                            <label for="">Name (Required)</label>
                            <input type="text" class="form-control" id="reserve_name">
                        </div>
                        <div class="form-group">
                            <label for="">Link to Photo Image (Required)</label>
                            <input type="text" class="form-control" id="reserve_img">
                        </div>
                    </form>
                    <h1>Question 1</h1>
                    <h2>How much you like to sleep?</h2>
                    <select data-placeholder="" class="chosen-select" id="q1">
                        <option value=""></option>
                        <option value="1">1 (All day)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Not so much)</option>
                    </select>
                    <h1>Question 2</h1>
                    <h2>Would you go back in time if you were given the chance?</h2>
                    <select data-placeholder="" class="chosen-select" id="q2">
                        <option value=""></option>
                        <option value="1">1 (Definitely)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Never)</option>
                    </select>
                    <h1>Question 3</h1>
                    <h2>Do you enjoy meeting new people.</h2>
                    <select data-placeholder="" class="chosen-select" id="q3">
                        <option value=""></option>
                        <option value="1">1 (Definitely)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Not so much)</option>
                    </select>
                    <h1>Question 4</h1>
                    <h2>Do you enjoy repairing things.</h2>
                    <select data-placeholder="" class="chosen-select" id="q4">
                        <option value=""></option>
                        <option value="1">1 (Definitely)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Not so much)</option>
                    </select>
                    <h1>Question 5</h1>
                    <h2>You try to respond to your e-mails as soon as possible and cannot stand a messy inbox.</h2>
                    <select data-placeholder="" class="chosen-select" id="q5">
                        <option value=""></option>
                        <option value="1">1 (Definitely)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Don't care)</option>
                    </select>
                    <h1>Question 6</h1>
                    <h2>You find it easy to stay relaxed and focused even when there is some pressure.</h2>
                    <select data-placeholder="" class="chosen-select" id="q6">
                        <option value=""></option>
                        <option value="1">1 (Definitely)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Not so mcuh)</option>
                    </select>
                    <h1>Question 7</h1>
                    <h2>You are usually highly motivated and energetic.</h2>
                    <select data-placeholder="" class="chosen-select" id="q7">
                        <option value=""></option>
                        <option value="1">1 (Definitely)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Not so much)</option>
                    </select>
                    <h1>Question 8</h1>
                    <h2>Your travel plans are usually well thought out.</h2>
                    <select data-placeholder="" class="chosen-select" id="q8">
                        <option value=""></option>
                        <option value="1">1 (Definitely)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Not so much)</option>
                    </select>
                    <h1>Question 9</h1>
                    <h2>Your mood can change very quickly.</h2>
                    <select data-placeholder="" class="chosen-select" id="q9">
                        <option value=""></option>
                        <option value="1">1 (Oh yes!)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Not really)</option>
                    </select>
                    <h1>Question 10</h1>
                    <h2>An interesting book or a video game is often better than a social event.</h2>
                    <select data-placeholder="" class="chosen-select" id="q10">
                        <option value=""></option>
                        <option value="1">1 (Definitely)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Not really)</option>
                    </select>
                    <hr>
                    <button type="button" class="btn btn-primary btn-lg btn-block submit">Submit</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal -->
    <div id="resultsModal" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h2 class="modal-title"><strong>Best Match</strong></h2>
                </div>
                <div class="modal-body">
                    <h2 id="matchName"></h2>
                    <img id="matchImg" src="https://media.licdn.com/mpr/mpr/shrinknp_400_400/p/6/005/064/1bd/3435aa3.jpg" alt="">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</body>
<script type="text/javascript">
//we need to grab all the data that user entered, when clicked on submit

$('.submit').on('click', function() {

    //grabbing form elements and making an object out off it

    var newFriend = {
        friendName: $('#reserve_name').val().trim(),
        friendPhoto: $('#reserve_img').val().trim(),
        questionOne: $('#q1').val(),
        questionTwo: $('#q2').val(),
        questionThree: $('#q3').val(),
        questionFour: $('#q4').val(),
        questionFive: $('#q5').val(),
        questionSix: $('#q6').val(),
        questionSeven: $('#q7').val(),
        questionEight: $('#q8').val(),
        questionNine: $('#q9').val(),
        questionTen: $('#q10').val()
    };
    console.log(newFriend);

    var currentURL = window.location.origin; // using this because url will change

    $.post(currentURL + '/api/survey', newFriend, function() {
        alert("submitted");
    })

    return false;
})

function runTableQuery() {

    var currentURL = window.location.origin;

    $.ajax({
            url: currentURL + '/api/survey',
            method: 'GET'
        })
        .done(function(usersData) {
            console.log('----------------------------------');
            console.log('URL ' + currentURL + '/api/survey');
            console.log('----------------------------------');

            console.log('----------------------------------');
            console.log(usersData);
            console.log('----------------------------------');
        });

}
runTableQuery();
</script>

</html>
